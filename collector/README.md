# 2024 1학기 캡스톤 프로젝트 (메디앙 시스템)

## 목차
- [주제](#주제)
- [현재 프로젝트 설명](#현재-프로젝트-설명)
- [빠른 시작 가이드 라인](#빠른-시작-가이드-라인)
  - [개발 가이드 라인](#개발-가이드-라인)
  - [빌드 가이드 라인](#빌드-가이드-라인)
  - [사용자 설명](#사용자-설명)
- [현재 프로젝트 구현 내용](#현재-프로젝트-구현-내용)
- [의존성](#의존성)
- [개발 방법](#개발-방법)
  - [개발 참고 사항](#개발-참고-사항)
- [배포](#배포)
- [배포후 설정파일](#배포후-설정파일)

## 주제
- 다중 PC 환경 모니터링 및 원격 채팅 기술

## 현재 프로젝트 설명
- 해당 프로젝트는 원격 PC에 설치되어 서비스로 실행되는 Agent 프로그램을 담당함.

## 빠른 시작 가이드 라인

### 개발 가이드 라인
1. 초기 라이브러리 설치 : `npm install`
2. 개발 시작을 할때마다 다음과 같은 명령어 입력
```
npm run build
npm run start
```
### 빌드 가이드 라인
1. `npm run build`
2. `collector/out/`에 있는 `win32`,`win64`에서 각 `package.nw/` 안에 있는 `config.json`을 설정함.
3. 압축 파일 형태로 `win32`,`win64`배포

### 사용자 설명
1. 받은 압축파일을 풀음
2. 압축 파일 내 `collector.exe`를 실행하면 서버와 연결 시작
   - 만일 서버와 연결이 되면 현재 컴퓨터에 대한 정보가 출력되며 트레이의 색상이 컬러로 표시
   - 서버와 연결이 안되면 `Not connected`라는 문구와 함께 트레이의 색상이 회색조로 표시

## 현재 프로젝트 구현 내용
- 설치시 서비스로 등록 및 실행
- 트레이 영역에 에이전트 아이콘 노출 및 서버 연결 상태 표시
- 프로그램 설정 정보 저장
	- 정보 전송 주기
	- PC 이름
	- 연결 URL의 기본 주소
- PC 환경 정보 전송
	- PC 사양
		- CPU
		- RAM
		- VGA
		- Storage 
	- 네트워크 사양
		- IP 주소 
		- MAC 주소 
	- OS 정보
	- SDK 정보
- 실시간 운영 정보 전송
	- 자원 점유 정보
		- PID
		- CPU 사용량
		- RAM 사용량
- 서버 명령 처리
	- 프로세스 실행
	- 스크린샷 전송

## 의존성
- node.js
- g++ compiler(option)
- make(option)

## 개발 방법
1. `collector/` 에서 다음과 같은 명령어를 입력한다.
```
npm install
npm run build
```
- 만일 `g++ compiler`와 `make`가 모두 존재한다면 `npm run init`로 대체가 가능하다.(option)

2. `npm run start` 를 입력하면 개발 모드로 해당 프로젝트가 켜진다.

### 개발 참고 사항
1. 해당 프로젝트에서 스크린샷 생성은 `collector/public/`안에 `getScreenshot.exe`로 만들이진다.
   - 이 실행파일은 `collector/lib/`안에 `getScreenshot.cpp`파일을 빌드하여 생성한다.
   - 이러한 생성을 위하여 `g++ compiler`와 `make`가 필요하다. 그러나 없는 경우를 대비하여 미리 만들어진 실행파일이 현재 프로젝트에 존재한다.

## 배포
- `npm run build` 명령어를 입력하면 `collector/out/`에 `win32`,`win64`의 디렉터리에 배포된 프로젝트가 담겨있다.
- 각 디렉터리의 `collector.exe` 파일이 실제 프로그램을 작동시키는 파일이다.

## 배포후 설정파일
- `win32/package.nw/`,`win64/package.nw` 안에 `config.json` 파일은 해당 프로젝트의 설정파일에 해당한다.
- 이 `config.json`의 내용은 다음과 같다
```json
{
    "interval": 3000000,
    "pc_name": "MyPC",
    "API_BASE_URL": "http://localhost:8080/"
}
```
- `interval` 변수는 서버와의 전송 주기를 나타내며 `ms`단위이다.
- `pc_name`은 서버에서 간편하게 볼 식별명에 해당한다.
- `API_BASE_URL`은 서버의 기본 URL주소를 삽입하면 된다.

